import telebot
import sqlalchemy as db
import DataBase

from telebot import types

TOKEN = '7265587584:AAHDLhga1j7R4viObqfhhIP4XrW3Pdkabzg'
bot = telebot.TeleBot(TOKEN)
DATABASE = 'Serials.db'


@bot.message_handler(commands=["start"])
def handle_start(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    btn1 = types.KeyboardButton("üå∏ –ê–Ω–∏–º–µ")
    btn2 = types.KeyboardButton("üì∫ –î–æ—Ä–∞–º—ã")
    btn3 = types.KeyboardButton("‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ")
    btn4 = types.KeyboardButton("‚ùì –ß—Ç–æ —è —É–º–µ—é?")
    markup.add(btn1, btn2, btn3, btn4 )
    bot.send_message(message.chat.id, START_MSG, reply_markup=markup)


@bot.message_handler(commands=["help"])
def handle_help(message):
    bot.send_message(message.chat.id, GeneralMessages.HELP_MSG)

@bot.message_handler(content_types=['text'])
def func(message):
    if (message.text == "‚ùì –ß—Ç–æ —è —É–º–µ—é?"):
        bot.send_message(message.chat.id, GeneralMessages.HELP_MSG)
    elif (message.text == "üå∏ –ê–Ω–∏–º–µ"):
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        btn1 = types.KeyboardButton("–ü–æ–∏—Å–∫ –∞–Ω–∏–º–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é üîé")
        btn2 = types.KeyboardButton("–ü–æ–∏—Å–∫ –∞–Ω–∏–º–µ –ø–æ –∂–∞–Ω—Ä—É üé≠")
        btn3 = types.KeyboardButton("–ü–æ–∏—Å–∫ –∞–Ω–∏–º–µ –ø–æ –≥–æ–¥—É üéØ")
        btn4 = types.KeyboardButton("–°–ª—É—á–∞–π–Ω–æ–µ –∞–Ω–∏–º–µ üí°")
        back = types.KeyboardButton("–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é üìå")
        markup.add(btn1, btn2, btn3, btn4, back)
        bot.send_message(message.chat.id, text="–ó–∞–¥–∞–π –º–Ω–µ –≤–æ–ø—Ä–æ—Å", reply_markup=markup)

    elif (message.text == "üì∫ –î–æ—Ä–∞–º—ã"):
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        btn1 = types.KeyboardButton("–ü–æ–∏—Å–∫ –¥–æ—Ä–∞–º—ã –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é üîé")
        btn2 = types.KeyboardButton("–ü–æ–∏—Å–∫ –¥–æ—Ä–∞–º—ã –ø–æ –∂–∞–Ω—Ä—É üé≠")
        btn3 = types.KeyboardButton("–ü–æ–∏—Å–∫ –¥–æ—Ä–∞–º—ã –ø–æ –≥–æ–¥—É üéØ")
        btn4 = types.KeyboardButton("–°–ª—É—á–∞–π–Ω–∞—è –¥–æ—Ä–∞–º–∞ üí°")
        btn5 = types.KeyboardButton("–ü–æ–∏—Å–∫ –¥–æ—Ä–∞–º—ã –ø–æ –∞–∫—Ç–µ—Ä—É üíé")
        back = types.KeyboardButton("–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é üìå")
        markup.add(btn1, btn2, btn3, btn4, btn5, back)
        bot.send_message(message.chat.id, text="–ó–∞–¥–∞–π –º–Ω–µ –≤–æ–ø—Ä–æ—Å", reply_markup=markup)

    elif (message.text == "‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ"):
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        btn1 = types.KeyboardButton("–ú–æ–π —Å–ø–∏—Å–æ–∫ üìú")
        btn2 = types.KeyboardButton("–î–æ–±–∞–≤–∏—Ç—å –≤ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ üìù")
        btn3 = types.KeyboardButton("–£–¥–∞–ª–∏—Ç—å –∏–∑ –ò–∑–±—Ä–∞–Ω–Ω–æ–≥–æ üö´")
        back = types.KeyboardButton("–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é üìå")
        markup.add(btn1, btn2, btn3, back)
        bot.send_message(message.chat.id, text="–ó–∞–¥–∞–π –º–Ω–µ –≤–æ–ø—Ä–æ—Å", reply_markup=markup)


    elif (message.text == "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é üìå"):
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        btn1 = types.KeyboardButton("üå∏ –ê–Ω–∏–º–µ")
        btn2 = types.KeyboardButton("üì∫ –î–æ—Ä–∞–º—ã")
        btn3 = types.KeyboardButton("‚ùì –ß—Ç–æ —è —É–º–µ—é?")
        markup.add(btn1, btn2, btn3)
        bot.send_message(message.chat.id, text="–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", reply_markup=markup)

    elif (message.text == "–ü–æ–∏—Å–∫ –∞–Ω–∏–º–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é üîé"):
        msg = bot.send_message(message.chat.id, '–í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–Ω–∏–º–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ö–æ—á–µ—à—å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å')
        bot.register_next_step_handler(msg, process_title_search)

    elif (message.text == "–ü–æ–∏—Å–∫ –¥–æ—Ä–∞–º—ã –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é üîé"):
        msg = bot.send_message(message.chat.id, '–í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–æ—Ä–∞–º—ã, –∫–æ—Ç–æ—Ä—É—é —Ö–æ—á–µ—à—å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å')
        bot.register_next_step_handler(msg, process_title_search)

    elif (message.text == "–ü–æ–∏—Å–∫ –∞–Ω–∏–º–µ –ø–æ –∂–∞–Ω—Ä—É üé≠"):
        msg = bot.send_message(message.chat.id,
                               '–í–≤–µ–¥–∏ –Ω—É–∂–Ω—ã–µ –∂–∞–Ω—Ä—ã (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–æ, —Ç–æ —É–∫–∞–∂–∏ –∏—Ö —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)')
        bot.register_next_step_handler(msg, process_genre_search)

    elif (message.text == "–ü–æ–∏—Å–∫ –¥–æ—Ä–∞–º—ã –ø–æ –∂–∞–Ω—Ä—É üé≠"):
        msg = bot.send_message(message.chat.id,
                               '–í–≤–µ–¥–∏ –Ω—É–∂–Ω—ã–µ –∂–∞–Ω—Ä—ã (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–æ, —Ç–æ —É–∫–∞–∂–∏ –∏—Ö —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)')
        bot.register_next_step_handler(msg, process_genre_search)

    elif (message.text == "–ü–æ–∏—Å–∫ –¥–æ—Ä–∞–º—ã –ø–æ –∞–∫—Ç–µ—Ä—É üíé"):
        msg = bot.send_message(message.chat.id,
                               '–í–≤–µ–¥–∏ –Ω—É–∂–Ω—ã—Ö –∞–∫—Ç–µ—Ä–æ–≤ (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–æ, —Ç–æ —É–∫–∞–∂–∏ –∏—Ö —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)')
        bot.register_next_step_handler(msg, process_actor_search)

    elif (message.text == "–ü–æ–∏—Å–∫ –¥–æ—Ä–∞–º—ã –ø–æ –≥–æ–¥—É üéØ"):
        msg = bot.send_message(message.chat.id,
                               '–í–≤–µ–¥–∏ –Ω—É–∂–Ω—ã–π –≥–æ–¥ –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω –≥–æ–¥–æ–≤ (–µ—Å–ª–∏ –≤–≤–æ–¥–∏—à—å –¥–∏–∞–ø–∞–∑–æ–Ω, —Ç–æ –≤–≤–æ–¥–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –≥–æ–¥-–≥–æ–¥)')
        bot.register_next_step_handler(msg, process_year_search)

    elif (message.text == "–ü–æ–∏—Å–∫ –∞–Ω–∏–º–µ –ø–æ –≥–æ–¥—É üéØ"):
        msg = bot.send_message(message.chat.id,
                               '–í–≤–µ–¥–∏ –Ω—É–∂–Ω—ã–π –≥–æ–¥ –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω –≥–æ–¥–æ–≤ (–µ—Å–ª–∏ –≤–≤–æ–¥–∏—à—å –¥–∏–∞–ø–∞–∑–æ–Ω, —Ç–æ –≤–≤–æ–¥–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –≥–æ–¥-–≥–æ–¥)')
        bot.register_next_step_handler(msg, process_year_search)

    elif (message.text == "–°–ª—É—á–∞–π–Ω–∞—è –¥–æ—Ä–∞–º–∞ üí°"):
        msg = bot.send_message(message.chat.id, '–î–µ—Ä–∂–∏ —Å–ª—É—á–∞–π–Ω—É—é –¥–æ—Ä–∞–º—É, –Ω–∞–¥–µ—é—Å—å, —á—Ç–æ —Ç–µ–±–µ –æ–Ω–∞ –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è üòä\n')
        #information =
        bot.send_message(message.chat.id, information)

    elif (message.text == "–°–ª—É—á–∞–π–Ω–æ–µ –∞–Ω–∏–º–µ üí°"):
        msg = bot.send_message(message.chat.id, '–î–µ—Ä–∂–∏ —Å–ª—É—á–∞–π–Ω–æ–µ –∞–Ω–∏–º–µ, –Ω–∞–¥–µ—é—Å—å, —á—Ç–æ —Ç–µ–±–µ –æ–Ω–æ –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è üòä\n')
        #information =
        bot.send_message(message.chat.id, information)

    elif (message.text == "–î–æ–±–∞–≤–∏—Ç—å –≤ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ üìù"):
        msg = bot.send_message(message.chat.id, '–í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–æ—Ä–∞–º—ã, –∫–æ—Ç–æ—Ä—É—é —Ö–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –≤ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ')
        bot.register_next_step_handler(msg, process_add_to_favourites)

    elif (message.text == "–ú–æ–π —Å–ø–∏—Å–æ–∫ üìú"):

        #information =
        bot.send_message(message.chat.id, information)

        #except Exception as e:
           # bot.reply_to(message, "–í–∞—à —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç ü•∫")

    elif (message.text == "üö´ –£–¥–∞–ª–∏—Ç—å –∏–∑ –ò–∑–±—Ä–∞–Ω–Ω–æ–≥–æ"):
        msg = bot.send_message(message.chat.id, '–í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–∏–∞–ª–∞, –∫–æ—Ç–æ—Ä–æ–µ —Ö–æ—á–µ—à—å —É–¥–∞–ª–∏—Ç—å –∏–∑ –ò–∑–±—Ä–∞–Ω–Ω–æ–≥–æ:')
        bot.register_next_step_handler(msg, process_delete_from_favourites)

    else:
        bot.send_message(message.chat.id, text="‚öôÔ∏è –ù–∞ —Ç–∞–∫—É—é –∫–æ–º–∞–Ω–¥—É —è –Ω–µ –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω... –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ /help")


bot.polling(none_stop=True)
